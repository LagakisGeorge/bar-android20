package com.example.ioun25;

import androidx.appcompat.app.AppCompatActivity;

import android.database.Cursor;
import android.database.sqlite.SQLiteAccessPermException;
import android.database.sqlite.SQLiteDatabase;
import android.content.Intent;
import android.os.Handler;
import android.os.Bundle;
import android.os.Message;
import android.os.StrictMode;
import android.view.ContextMenu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.PrintWriter;
import java.io.UnsupportedEncodingException;
import java.net.Socket;
import java.net.UnknownHostException;
import java.nio.ByteBuffer;
import java.nio.CharBuffer;
import java.nio.charset.Charset;
import java.nio.charset.CharsetEncoder;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {
    //  StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();


    public static final String EXTRA_MESSAGE = "com.example.myfirstapp.MESSAGE";

    Integer kodikos_ok = 0;


    //   StrictMode.setThreadPolicy(policy);
    Handler handler;
    Handler handler2;

    ListView moviesList;
    public TextView tIdBardia;
    Button button3;
    Button button;
    String Pelatis;
    Button bb, load, save;
    EditText arxeio, db;
    public static ArrayList<String> pel;

    public static ArrayList<String> pel3;
    public static ArrayList<String> pelKathg;
    public static int gYparxoyses ;
    public static String idBardia;
    public static String gIPPRINTER,gIPSQL;
    public static String gUSER="sa",gPASSWORD="12345678";


    public String arr[][];


    public static final String[] mPliromes = new String[] {"00",
            "ΜΕΤΡΗΤΟΙΣ",
            "ΚΑΡΤΑ 1",
            "ΚΑΡΤΑ 2",
            "ΚEΡAΣMENA"};







    @Override
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        load_bardia();


        if (android.os.Build.VERSION.SDK_INT > 9) {
            StrictMode.ThreadPolicy policy =
                    new StrictMode.ThreadPolicy.Builder().permitAll().build();
            StrictMode.setThreadPolicy(policy);
        }


        //  pel.add("aa");
        //*  δεν βγαζει warning kai doyleyei αλλα σε βαθος λειτουργιας πρεπει να μπουκωνει
        handler = new Handler(new Handler.Callback() {
            @Override
            public boolean handleMessage(Message msg) {
                // todo
                TextView h;
                h = (TextView) findViewById(R.id.hello);
                h.setText(Pelatis);
                for (int i = 0; i < pel.size(); i++) {
                    System.out.println("πελατης" + pel.get(i));
                }
                return true;
            }
        });


        handler2 = new Handler(new Handler.Callback() {
            @Override
            public boolean handleMessage(Message msg) {


                Toast.makeText(getApplicationContext(), "ok διαβαστηκε", Toast.LENGTH_SHORT).show();

                /*    / todo
                TextView h;
                h =(TextView)findViewById(R.id.hello);
                h.setText("*"+Pelatis);
                for (int i = 0; i < pel.size(); i++) {
                    System.out.println("πελατης"+pel.get(i));
                }
                */

                return true;
            }
        });

// ArrayList<String>
        pel = new ArrayList<String>(); // Create an ArrayList object
        pel3 = new ArrayList<String>();
        pelKathg = new ArrayList<String>();

        /** Called when the user taps the Send button */


     /*   bb = (Button) findViewById(R.id.parametroi);
        bb.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                pel.clear();

                Runnable aRunnable = new Runnable() {
                    public void run() {
                        start("100");
                        handler.sendEmptyMessage(0);
                    }
                };
                Thread aThread = new Thread(aRunnable);
                aThread.start();
            }
        });
*/




       // printhtml();

    }  // -------------- onCreate
// If you cannot connect with SQL server(express), you can check here: http://stackoverflow.com/questions/10522120/connecting-to-local-ms-sql-server

 /*   public static final byte[] INIT = {27, 64};
    public static final byte[] FEED_LINE = {10};

    public static final byte[] SELECT_FONT_A = {27, 33, 0};

    public static final byte[] FONT_B = {0x1B, 0x4D, 0x01};
    public static final byte[] ALLINEA_SX = {0x1B, 0x61, 0x00};
    public static final byte[] ALLINEA_CT = {0x1B, 0x61, 0x01};
*/



// //debug    ΤΥΠΩΝΕΙ ΕΝΑ ΚΕΙΜΕΝΟ
    public void print_text(View view) {

        try {
            Socket sock = new Socket("192.168.1.202", 9100);
            PrintWriter oStream = new PrintWriter(sock.getOutputStream());
            String s6 = "λαγακης";
            String out = new String(s6.getBytes("UTF-8"), "ISO-8859-7");
            oStream.println(out);

Character c=(char) 27;
String d=""+c+"t15";
          //  oStream.println((char) 27);
            oStream.println("HI,test from Android Device");
            oStream.println("λσαδσξδΞΣΔΞΑΔΞΕΙΞΔΣΞΦΔΨΝΔΞΦ");
            String s = "ΛΑΓΑΚΗΣ ΓΕΩΡΓΙΟΣ,test from Android Device";// text returned by web service taking it as static for testing
            //  1. not working:
           // Char c = (char) n;
            //System.out.print(c)//char c will store the converted value.
            // shareimprove this answer
            // edited Dec 17 '14 at 14:59

            //  Uri Agassi
            // 33.5k1010 gold badges6363 silver badges8383 bronze badges
            //  answered Dec 17 '14 at 14:56

            //  Entriple Aardee
            //   1111 bronze badge
            //  add a comment

            //  0
            oStream.println("geia χαρα");
            for (int i = 128; i < 256; i=i+5) {
                //  Char c=(char)n;
                //  System.out.print(c)//

                oStream.println((char) i);
        }
        //    String str = new String(s.getBytes("ISO-8859-7"), "utf-8");
            //  String str = new String(s.getBytes(), "ISO-8859-7");
         //   oStream.println(str);
            oStream.println("αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ HI,test from Android Device");
            oStream.println("HI,test from Android Device");

            oStream.println("\n\n\n");
            oStream.close();
            sock.close();
        } catch (UnknownHostException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void load_bardia(){

        int nn=0;

        try{
        SQLiteDatabase mydatabase=null;
        Integer n=0;
            mydatabase = openOrCreateDatabase("eidh",MODE_PRIVATE,null);

          String  c="CREATE TABLE IF NOT EXISTS  BARDIA( ID integer PRIMARY KEY, HME datetime, IDERGAZ int, [NUM1] [int] ,"+
                    "[NUM2] [int] , [CH1] [nvarchar](25) , [CH2] [nvarchar](25) , [ISOPEN] [int] , [OPENH] [nvarchar](25) ," +
                    "[CLOSEH] [nvarchar](25) ,[CASHTOT] [int] ,[CASH1] [int] ,[CASH2] [int] ,[CASH3] [int] ,[CASH4] [int] ,[CASH5] [int])" ;

            mydatabase.execSQL(c);

            Cursor cursor3 = mydatabase.rawQuery("select max(ID) AS MAXID    from  BARDIA", null);

            if (cursor3.moveToFirst()){
                nn=cursor3.getInt(0);
            } else {
                nn=0;
            }

           //

            mydatabase.execSQL("CREATE TABLE IF NOT EXISTS MEM (ID  INTEGER PRIMARY KEY  ,"+
                    "[KOD] [int] ,"+
                    "[ACCESSCODE][nvarchar](155) ,"+
                    "[IPSQL][nvarchar](155) ,"+
                    "[USER][nvarchar](155) ,"+
                    "[PASSWORD][nvarchar](155) ,"+
                    "[IPPRINTER] [nvarchar](155)  ); ");

            Cursor cursor4 = mydatabase.rawQuery("select IPPRINTER,IPSQL from  MEM WHERE ID=1", null);

            if (cursor4.moveToFirst()){
                gIPPRINTER=cursor4.getString(0);
                gIPSQL=cursor4.getString(1);

            } else {
                mydatabase.execSQL("INSERT INTO MEM (IPPRINTER,IPSQL,ACCESSCODE) VALUES('192.168.1.202',  '192.168.1.7:49705/BAR;instance=SQLEXPRESS;','1');");
                gIPPRINTER="192.168.1.202";
                gIPSQL = "192.168.1.7:49705/BAR;instance=SQLEXPRESS;";
            }





            mydatabase.close();


        } catch (SQLiteAccessPermException e) {
        e.printStackTrace();
        }


        idBardia=Integer.toString(nn);
            tIdBardia=findViewById(R.id.idBardia);
            tIdBardia.setText(idBardia);
    }






    //debug
    public void report (View view){



        Intent intent = new Intent(this, reports2.class);
        // EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
      //  intent.putExtra("mpel", pel); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ ΤΡΑΠΕΖΙΑ
      //  intent.putExtra("mEIDH", pel3); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ EIDH
      //  intent.putExtra("mKathg", pelKathg); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ EIDH
        startActivity(intent);


    }



//debug
    public static void sendData(byte[] buffer, OutputStream os)
    {
        try {
            ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);
            os.write(byteBuffer.array());
            os.flush();
            // tell the user data were sent

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    

    //debug
    public void print (String text, String codePage, OutputStream os) throws UnsupportedEncodingException {
        /*Your codetable initialization here.
         *You can refactor this more efficiently.
         *Hardcoded just so you can understand.
         */

        ByteBuffer init = ByteBuffer.allocate(3);
        init.put((byte) 0x1B);
        init.put((byte) 0x74);
        init.put((byte) 2);
        sendData(init.array(), os);

      //   εναλλακτικα
      //  ByteBuffer closeMultibyte = ByteBuffer.allocate(2);
      //  closeMultibyte.put((byte) 0x1C);
      //  closeMultibyte.put((byte) 0x2E);
      //  sendData(closeMultibyte.array(), os);


        ByteBuffer dataToPrint = ByteBuffer.allocate(text.length());
        dataToPrint.put(text.getBytes(codePage));
        sendData(dataToPrint.array(), os);
    }

   // debug
    public void IntentPrint(String txtvalue)
    {
        byte[] buffer = txtvalue.getBytes();
        byte[] PrintHeader = { (byte) 0xAA, 0x55,2,0 };
        PrintHeader[3]=(byte) buffer.length;
       // InitPrinter();
        if(PrintHeader.length>128)
        {
          //  value+="\nValue is more than 128 size\n";
            //txtLogin.setText(value);
        }
        else
        {
            try
            {
                for(int i=0;i<=PrintHeader.length-1;i++)
                {
              //      mmOutputStream.write(PrintHeader[i]);
                }
                for(int i=0;i<=buffer.length-1;i++)
                {
                //    mmOutputStream.write(buffer[i]);
                }
              //  mmOutputStream.close();
              //  mmSocket.close();
            }
            catch(Exception ex)
            {
                //value+=ex.toString()+ "\n" +"Excep IntentPrint \n";
                //txtLogin.setText(value);
            }
        }
    }










    // convert internal Java String format to UTF-8
    public static String convertStringToUTF8(String s) {
        String out = null;
        try {
            out = new String(s.getBytes("UTF-8"), "ISO-8859-7");
        } catch (java.io.UnsupportedEncodingException e) {
            return null;
        }
        return out;
    }

    public static String toGreek(String lexh){
        int i;
        String cc="";
        String c;
        for (i=0;i<lexh.length();i++){
             c=lexh.substring(i,i+1);
            switch (c) {
                case "Α":
                    c="A";
                    break;
                case "Γ":
                    c="G";
                    break;
                case "Β":
                    c="B";
                    break;
                case "Δ":
                    c="D";
                    break;
                case "Ε":
                    c="E";
                    break;
                case "Ζ":
                    c="Z";
                    break;
                case "Η":
                    c="H";
                    break;
                case "Θ":
                    c="8";
                    break;
                case "Ι":
                    c="I";
                    break;
                case "Κ":
                    c="K";
                    break;
                case "Λ":
                    c="L";
                    break;
                case "Μ":
                    c="M";
                    break;
                case "Ν":
                    c="N";
                    break;
                case "Ξ":
                    c="3";
                    break;
                case "Ο":
                    c="O";
                    break;
                case "Π":
                    c="P";
                    break;
                case "Ρ":
                    c="R";
                    break;
                case "Σ":
                    c="S";
                    break;
                case "Τ":
                    c="T";
                    break;
                case "Υ":
                    c="Y";
                    break;
                case "Φ":
                    c="F";
                    break;
                case "Χ":
                    c="X";
                    break;
                case "Ψ":
                    c="PS";
                    break;
                case "Ω":
                    c="O";
                    break;
                case "α":
                    c="A";
                    break;
                case "γ":
                    c="G";
                    break;
                case "β":
                    c="B";
                    break;
                case "δ":
                    c="D";
                    break;
                case "ε":
                    c="E";
                    break;
                case "ζ":
                    c="Z";
                    break;
                case "η":
                    c="H";
                    break;
                case "θ":
                    c="8";
                    break;
                case "ι":
                    c="I";
                    break;
                case "κ":
                    c="K";
                    break;
                case "λ":
                    c="L";
                    break;
                case "μ":
                    c="M";
                    break;
                case "ν":
                    c="N";
                    break;
                case "ξ":
                    c="3";
                    break;
                case "ο":
                    c="O";
                    break;
                case "π":
                    c="P";
                    break;
                case "ρ":
                    c="R";
                    break;
                case "σ":
                    c="S";
                    break;
                case "τ":
                    c="T";
                    break;
                case "υ":
                    c="Y";
                    break;
                case "φ":
                    c="F";
                    break;
                case "χ":
                    c="X";
                    break;
                case "ψ":
                    c="PS";
                    break;
                case "ω":
                    c="O";
                    break;
                case "ς":
                    c="S";
                    break;




                case "ά":
                    c="A";
                    break;
                case "έ":
                    c="E";
                    break;
                case "ί":
                    c="I";
                    break;
                case "ό":
                    c="O";
                    break;
                case "ή":
                    c="H";
                    break;
                case "ύ":
                    c="Y";
                    break;
                case "ώ":
                    c="O";
                    break;

            }
            cc=cc+c;
        }


     return cc;
    }



    public void print_order (View view)
    {





        try
        {
            Socket sock = new Socket("192.168.1.202", 9100);
            PrintWriter oStream = new PrintWriter(sock.getOutputStream());
            byte[] printformat = {27, 116, 7};
// java.io.OutputStream stream  = new java.io.OutputStream()

            String Str2 = new String( "LΛGΓ".getBytes( "737" ));
            oStream.println(Str2);
            Str2 = new String ("LΛGΓ".getBytes( "cp737" ));
            oStream.println(Str2);
            Str2 = new String ("LΛGΓ".getBytes( "cp850" ));
            oStream.println(Str2);

            String s6 = "λαγακης";
            String out = new String(s6.getBytes("850"), "CP737");
            oStream.println(out);

            CharsetEncoder encoder = Charset.forName("CP737").newEncoder();
            oStream.println("ENCODER-START");
            String response = "λαγακης γεωργιος ΛΑΓΑΚΗΣ ΓΕΩΡΓΙΟΣ";
            oStream.println(encoder.encode(CharBuffer.wrap(response)));
            oStream.println("ENCODER-END");
            // String ASCII2 = new String("λαγακης γεωργιος ΛΑΓΑΚΗΣ ΓΕΩΡΓΙΟΣ", "737");








              ByteBuffer closeMultibyte = ByteBuffer.allocate(2);
              closeMultibyte.put((byte) 0x1C);
              closeMultibyte.put((byte) 0x2E);
            oStream.println(closeMultibyte.array());

            oStream.println("λgΦG");
            //  sendData(closeMultibyte.array(), os);


            byte[] buffer = "lagaκης Γεωργιος γεοργιοσ georgios".getBytes();
            byte[] PrintHeader = { (byte) 0xAA, 0x55,2,0 };
            PrintHeader[3]=(byte) buffer.length;
           // InitPrinter();
            if(PrintHeader.length>128)
            {
               // value+="\nValue is more than 128 size\n";
               // txtLogin.setText(value);
            }
            else
            {
                try
                {
                    for(int i=0;i<=PrintHeader.length-1;i++)
                    {
                        oStream.print(closeMultibyte.array());
                        oStream.write(PrintHeader[i]);
                    }
                    for(int i=0;i<=buffer.length-1;i++)
                    {
                        oStream.write(buffer[i]);
                    }
                   // mmOutputStream.close();
                   // mmSocket.close();
                }
                catch(Exception ex)
                {
                    // value+=ex.toString()+ "\n" +"Excep IntentPrint \n";
                   // txtLogin.setText(value);
                }
            }























            SQLiteDatabase mydatabase=null;
            mydatabase = openOrCreateDatabase("eidh",MODE_PRIVATE,null);
            Cursor cursor2 = mydatabase.rawQuery("select ONO, ID,TIMH,CH2,PICTURE FROM EIDH", null);
            if (cursor2.moveToFirst()) {
                do {
         //           oStream.println( toGreek(cursor2.getString(0)));
                } while (cursor2.moveToNext());
            }
            mydatabase.close();






/*
            byte[] buffer = new byte[128];
            for (int i = 0; i < 128; i=i+1) {
                buffer[i] = (byte)(128 + i);
                oStream.print("=pr-buf=");
                oStream.print(buffer[i]);
                oStream.print("/i/");
                oStream.print(i);
                oStream.print("-wbuf-");
                oStream.write(buffer[i]);
            }



            oStream.println(printformat);
            oStream.print("buffer");
           oStream.print(buffer);
            oStream.print("end-buffer");
*/
            oStream.print("αδασδαδαδΑΒΓΔΕΖΗΘΙΚΛ");

           // print("αδασδαδαδΑΒΓΔΕΖΗΘΙΚΛ","737",oStream );

            oStream.print("αδασδαδαδΑΒΓΔΕΖΗΘΙΚΛ".getBytes("737")) ;

            oStream.write("αδασδαδαδασδδ");


            oStream.println(convertStringToUTF8("λαγακησ γεωργιος HI,test from Android Device"));
            oStream.println("HI,test from Android Device");
            String s = convertStringToUTF8("ΛΑΓΑΚΗΣ ΓΕΩΡΓΙΟΣ,test from Android Device");// text returned by web service taking it as static for testing
          //  1. not working:

            String Str1="---ΛtΑeΓsΑt ,test ";
            String Str3 = new String( Str1.getBytes( "UTF-8" ));
            oStream.println("Returned Value " + Str3 );
            Str2 = new String (Str1.getBytes( "ISO-8859-7" ));
            oStream.println("Returned Value " + Str2 );



            String str = new String(s.getBytes("850"), "utf-8");
           String str2 = new String(s.getBytes(), "850");
            oStream.println(str);
            oStream.println(str2);
            oStream.println("HI,test from Android Device");
            oStream.println("HI,test from Android Device");
            oStream.println("geia χαρα");

            for (int i = 128; i < 256; i=i+15) {
                  Character c=(char) i;
                oStream.print(c);  //
                oStream.write(i);
                oStream.println((char) i);
            }

s="αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ";
            String str22 = new String(s.getBytes("ISO-8859-7"), "737");
            //  String str = new String(s.getBytes(), "ISO-8859-7");
            oStream.println(str22);
            oStream.println("αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ HIsssss,test from Android Device");
            oStream.println("HI,test from Android Device");

            oStream.println("\n\n\n");

            oStream.println("\n\n\n");
            oStream.close();
            sock.close();
        }
        catch (UnknownHostException e)
        {
            e.printStackTrace();
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }



    }







    //=====================================  READ  TXT  FILE ===============================
    public void load (View view) {
        String marxeio = "Lagakis.txt"; // arxeio.getText().toString();
      //  File f = new File(marxeio);
        //  if (f.exists()) {

        try {


            FileInputStream fin = openFileInput(marxeio);
            InputStreamReader inputStreamReader = new InputStreamReader(fin);
            BufferedReader br = new BufferedReader(inputStreamReader);
            StringBuilder stringBuffer = new StringBuilder();
            String line = null;
            while ((line = br.readLine()) != null) {
                stringBuffer.append(line);
            }
            fin.close();
            inputStreamReader.close();
          // '' TextView tcarxeio = (TextView) findViewById(R.id.carxeio);
          //  TextView tcdata = (TextView) findViewById(R.id.cdata);
        //    tcarxeio.setText("FileName" + marxeio);
         //   tcdata.setText("data" + stringBuffer.toString());
        } catch (IOException e) {
            e.printStackTrace();
        }

    }





    public void formaSQL (View view) {

        Intent intent = new Intent(this,  import_sql.class);
        // EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
       // intent.putExtra("mpel", pel); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ ΤΡΑΠΕΖΙΑ
       /// intent.putExtra("mEIDH", pel3); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ EIDH
       //   intent.putExtra("mKathg", pelKathg); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ EIDH
        startActivity(intent);



    }


    public void save (View view) {



    }


    // @Override
    public void onCreateOptionsMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo){
        super.onCreateContextMenu(menu, v, menuInfo);
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.options_menu, menu);
    }



    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        Toast.makeText(this, "Selected Item: " +item.getTitle(), Toast.LENGTH_SHORT).show();
        switch (item.getItemId()) {
            case R.id.search_item:
                // do your code
                return true;
            case R.id.upload_item:
                // do your code
                return true;
            case R.id.copy_item:
                // do your code
                return true;
            case R.id.print_item:
                // do your code
                return true;
            case R.id.share_item:
                // do your code
                return true;
            case R.id.bookmark_item:
                // do your code
                return true;
            default:
                return super.onOptionsItemSelected(item);
        }
    }





    //  ======================   SHOW TRAPEZIA  =========================
    public void click6 (View view) {
//================= TRAPEZIA ===========================================
/*
        private ArrayList<String> mArray;
        private String mString;
        private int mValue;

        Intent intent = new Intent(this, NewActivity.class);
        intent.putExtra("arrayListExtra", mArray);
        intent.putExtra("stringExtra", mString);
        intent.putExtra("intExtra", mValue);
        startActivity(intent);
  */
        Intent intent = new Intent(this, trapezia.class);
       // EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        intent.putExtra("mpel", pel); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ ΤΡΑΠΕΖΙΑ
        intent.putExtra("mEIDH", pel3); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ ΤΑ EIDH
        intent.putExtra("mKathg", pelKathg); // ΣΤΕΛΝΩ ΤΟΝ ΠΙΝΑΚΑ ΜΕ κατηγορίες
        startActivity(intent);
        // Do something in response to button
    };



  /*  public void click7 (View view) {

        Intent intent = new Intent(this, trapezia.class);
        EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        startActivity(intent);
        // Do something in response to button
    };
*/

    public void PARAMETROI (View view) {

        Intent intent = new Intent(this, parameters.class);
      //  EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        startActivity(intent);
        // Do something in response to button
    };

    public void KATHGORIES_intent (View view) {

        Intent intent = new Intent(this, KATHGORIES.class);
        //  EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        startActivity(intent);
        // Do something in response to button
    };


    public void addtrapezia (View view) {

        Intent intent = new Intent(this, addtrapezia.class);
        //  EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        startActivity(intent);
        // Do something in response to button
    };

    public void GENERAL (View view) {

        Intent intent = new Intent(this, GENERALPARAMETERS.class);
        //  EditText editText = (EditText) findViewById(R.id.editText);
        String message2 ="---" ;// EditText.GetText().toString();
        intent.putExtra(EXTRA_MESSAGE, message2);
        startActivity(intent);
        // Do something in response to button
    };



    private void start( String k ) {
       // System.out.println("START");
        String query = "SELECT top "+k+" * FROM PEL";
        ResultSet rs = getData(query);
       // TextView h;
      //  h=(TextView)findViewById(R.id.hello);

        try {
            while (rs.next()) {
              //  System.out.println(rs.getString("EPO"));
                pel.add(rs.getString("EPO"));
                Pelatis=rs.getString("EPO");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
      //  System.out.println("END");
    }



   // private String URL = "jdbc:jtds:sqlserver://192.168.1.5:52735/BAR;instance=SQLEXPRESS;";
    private String URL = "jdbc:jtds:sqlserver://192.168.1.7:49702/BAR;instance=SQLEXPRESS;";
    private String USER = "sa";
   // private String PASS = "12345678";  //"p@ssw0rd";
    private String PASS = "p@ssw0rd";
    private static ResultSet RESULT;
    public ResultSet getData(String query) {
        Connection CON = null;
        try {
            Class.forName("net.sourceforge.jtds.jdbc.Driver");
            CON = DriverManager.getConnection(URL, USER, PASS);
            RESULT = CON.createStatement().executeQuery(query);
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return RESULT;
    }


    public void ExecuteSql (String SQL) {
        SQLiteDatabase mydatabase=null;
        Integer n=0;
        try{    mydatabase = openOrCreateDatabase("eidh",MODE_PRIVATE,null);
                mydatabase.execSQL(SQL);
        } catch (SQLiteAccessPermException e) {
            e.printStackTrace();
        }
    }

} // end class ===============================================================================================


